{"ast":null,"code":"import _classCallCheck from\"/Users/jay_lohokare/Desktop/PPL Codes/webgl-3d-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jay_lohokare/Desktop/PPL Codes/webgl-3d-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jay_lohokare/Desktop/PPL Codes/webgl-3d-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jay_lohokare/Desktop/PPL Codes/webgl-3d-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{inject,observer}from\"mobx-react\";import ModelsListElement from\"./modelsListElement\";import Materialize from\"materialize-css\";import Loader from'../Components/Loader';var ModelsView=/*#__PURE__*/function(_Component){_inherits(ModelsView,_Component);var _super=_createSuper(ModelsView);function ModelsView(){var _this;_classCallCheck(this,ModelsView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.updateInputValue=function(evt){_this.props.store.updateSearchText(evt.target.value);};_this.modelListView=function(){if(_this.props.store.assets!==[]){return/*#__PURE__*/React.createElement(\"div\",{className:\"assets-list-view\"},_this.props.store.assets.map(function(model,i){return/*#__PURE__*/React.createElement(ModelsListElement,{model:model,keyValue:i,key:\"\".concat(model.Equipement,\"-\").concat(i)});}));}};_this.loadingState=function(){return/*#__PURE__*/React.createElement(Loader,null);};_this.updateStatus=function(evt){_this.props.store.updateSearchStatus(evt.target[evt.target.value].text.substring(8));};_this.searchAsset=function(){if(_this.props.store.mapViewPort.zoom<12){Materialize.toast({html:\"Please zoom in more to load assets\",displayLength:2000,classes:\"rounded\"});}_this.props.store.getModelList();_this.props.store.refeshConnectivityLayer();};_this.withDataState=function(){return/*#__PURE__*/React.createElement(\"div\",{className:\"modelsView\"},/*#__PURE__*/React.createElement(\"div\",{className:\"black menu-header center center-align valign-wrapper \"},/*#__PURE__*/React.createElement(\"h4\",{className:\"white-text\"},\"PPL EAM\")),/*#__PURE__*/React.createElement(\"div\",{className:\"white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row padding-5px search-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card valign-wrapper search-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col l9 s9 m9\"},/*#__PURE__*/React.createElement(\"input\",{className:\"black-text\",id:\"model_filter\",placeholder:\"Search Asset\",type:\"text\",onChange:_this.updateInputValue})),/*#__PURE__*/React.createElement(\"div\",{className:\"col l3 s3 m3\"},/*#__PURE__*/React.createElement(\"button\",{style:{border:\"none\",backgroundColor:\"transparent\"},onClick:_this.searchAsset},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons black-text\"},\"search\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"left-align search-filters-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field chip light-blue darken-3 white-text filter-chip\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filter-chip-content \"},/*#__PURE__*/React.createElement(\"select\",{id:\"status_selector\",onChange:_this.updateStatus},/*#__PURE__*/React.createElement(\"option\",{defaultValue:true,value:\"0\"},\"Status: All\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"Status: New\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"Status: Approved\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"chip input-field light-blue darken-3 white-text filter-chip\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filter-chip-content\"},/*#__PURE__*/React.createElement(\"input\",{id:\"date\",type:\"text\",className:\"datepicker white-text\"}))))),_this.modelListView());};return _this;}_createClass(ModelsView,[{key:\"componentDidMount\",value:function componentDidMount(){var context=this;var today=new Date();var tomorrow=new Date(today);tomorrow.setDate(tomorrow.getDate()+1);var dateElems=document.querySelectorAll(\".datepicker\");Materialize.Datepicker.init(dateElems,{format:\"yyyy-mm-dd\",defaultDate:tomorrow,setDefaultDate:true,container:\"body\",autoClose:true,selectMonths:true,selectYears:200,onSelect:function onSelect(date){context.props.store.updateSearchDate(date);}});var selectElems=document.querySelectorAll('select');Materialize.FormSelect.init(selectElems);}},{key:\"render\",value:function render(){var assetsLoadingState=this.props.store.assetsLoadingState;if(assetsLoadingState===false){return this.withDataState(this.props.store);}else{return this.loadingState();}}}]);return ModelsView;}(Component);export default inject(\"store\")(observer(ModelsView));","map":{"version":3,"sources":["/Users/jay_lohokare/Desktop/PPL Codes/webgl-3d-web/src/modelDetails/modelsView.js"],"names":["React","Component","inject","observer","ModelsListElement","Materialize","Loader","ModelsView","updateInputValue","evt","props","store","updateSearchText","target","value","modelListView","assets","map","model","i","Equipement","loadingState","updateStatus","updateSearchStatus","text","substring","searchAsset","mapViewPort","zoom","toast","html","displayLength","classes","getModelList","refeshConnectivityLayer","withDataState","border","backgroundColor","context","today","Date","tomorrow","setDate","getDate","dateElems","document","querySelectorAll","Datepicker","init","format","defaultDate","setDefaultDate","container","autoClose","selectMonths","selectYears","onSelect","date","updateSearchDate","selectElems","FormSelect","assetsLoadingState"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport ModelsListElement from \"./modelsListElement\";\r\nimport Materialize from \"materialize-css\";\r\nimport Loader from '../Components/Loader';\r\n\r\n\r\n\r\nclass ModelsView extends Component {\r\n\r\n  componentDidMount() {\r\n    var context = this;\r\n\r\n    const today = new Date()\r\n    const tomorrow = new Date(today)\r\n    tomorrow.setDate(tomorrow.getDate() + 1)\r\n\r\n    var dateElems = document.querySelectorAll(\".datepicker\");\r\n    Materialize.Datepicker.init(dateElems, {\r\n      format: \"yyyy-mm-dd\",\r\n      defaultDate: tomorrow,\r\n      setDefaultDate: true,\r\n      container: \"body\",\r\n      autoClose: true,\r\n      selectMonths: true,\r\n      selectYears: 200,\r\n      onSelect: function(date) {\r\n        context.props.store.updateSearchDate(date);\r\n      },\r\n    });\r\n\r\n\r\n    var selectElems = document.querySelectorAll('select');\r\n    Materialize.FormSelect.init(selectElems);\r\n  }\r\n\r\n  updateInputValue = (evt) =>{\r\n    this.props.store.updateSearchText(evt.target.value);\r\n  }\r\n\r\n  modelListView = () => {\r\n    if (this.props.store.assets !== []){\r\n      return (\r\n        <div className=\"assets-list-view\">\r\n          {\r\n            this.props.store.assets.map((model,i) => (\r\n              <ModelsListElement model={model} keyValue={i} key={`${model.Equipement}-${i}`}/>\r\n            ))\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n\r\n\r\n  loadingState = () => {\r\n    return <Loader />\r\n  }\r\n\r\n  updateStatus = (evt) => {\r\n    this.props.store.updateSearchStatus(evt.target[evt.target.value].text.substring(8));\r\n  }\r\n\r\n  searchAsset = () => {\r\n    if (this.props.store.mapViewPort.zoom < 12) {\r\n      Materialize.toast({\r\n        html: \"Please zoom in more to load assets\",\r\n        displayLength: 2000,\r\n        classes: \"rounded\",\r\n      });\r\n    }\r\n      this.props.store.getModelList();\r\n      this.props.store.refeshConnectivityLayer();\r\n\r\n  }\r\n\r\n  withDataState = () => {\r\n    return (\r\n      <div className=\"modelsView\">\r\n\r\n        <div className=\"black menu-header center center-align valign-wrapper \">\r\n          <h4 className=\"white-text\">PPL EAM</h4>\r\n        </div>\r\n\r\n        <div className=\"white\">\r\n\r\n          <div  className=\"row padding-5px search-container\">\r\n            <div className=\"card valign-wrapper search-box\">\r\n              <div className=\"input-field col l9 s9 m9\">\r\n                <input className=\"black-text\" id=\"model_filter\" placeholder=\"Search Asset\" type=\"text\" onChange={this.updateInputValue}/>\r\n              </div>\r\n              <div className=\"col l3 s3 m3\">\r\n                <button \r\n                  style={{border: \"none\", backgroundColor: \"transparent\" }}\r\n                  onClick={this.searchAsset}>\r\n                  <i className=\"material-icons black-text\">search</i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div className=\"left-align search-filters-list\">\r\n\r\n            <div className=\"input-field chip light-blue darken-3 white-text filter-chip\">\r\n              <div className=\"filter-chip-content \">\r\n                <select id=\"status_selector\" onChange={this.updateStatus}>\r\n                  <option defaultValue value=\"0\">Status: All</option>\r\n                  <option value=\"1\">Status: New</option>\r\n                  <option value=\"2\">Status: Approved</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"chip input-field light-blue darken-3 white-text filter-chip\">\r\n              <div className=\"filter-chip-content\">\r\n                <input id=\"date\" type=\"text\" className=\"datepicker white-text\"/>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n        {this.modelListView()}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { assetsLoadingState } = this.props.store;\r\n    if (assetsLoadingState === false) {\r\n      return this.withDataState(this.props.store);\r\n    } else {\r\n      return this.loadingState();\r\n    }\r\n  }\r\n}\r\n\r\nexport default inject(\"store\")(observer(ModelsView));\r\n"]},"metadata":{},"sourceType":"module"}